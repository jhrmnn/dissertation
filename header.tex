\documentclass[12pt,a4paper,twoside,openright]{report}
\usepackage[a-1b]{pdfx}
\usepackage[utf8]{inputenc}

\usepackage[scaled=0.92]{inconsolata}
\usepackage[T1]{fontenc}
\usepackage{microtype}
\usepackage{etoolbox}

\usepackage[head=15pt]{geometry}
\usepackage[usenames,dvipsnames]{xcolor}
\usepackage{hyperref}
\hypersetup{
  colorlinks,citecolor=Gray,urlcolor=Gray,linkcolor=Blue,
  bookmarksnumbered=true,
  pdflang={en-US}
}

\usepackage{relsize}
\usepackage{sectsty}
\usepackage[normal]{caption}
\DeclareCaptionLabelSeparator{pipe}{ $|$ }
\captionsetup{labelsep=pipe}
\IfFileExists{minionpro.sty}{
  \usepackage[lf,swash,minionint,openg,footnotefigures]{MinionPro}
  \usepackage[lf,medfamily,sansmath]{MyriadPro}
  \allsectionsfont{\smaller\sffamily\mathversion{sansbold}}
  \renewcommand{\captionfont}{\sffamily\small\mathversion{sans}}
  \renewcommand{\captionlabelfont}{\bfseries}
}{
  \usepackage{upgreek}
  \usepackage{sansmath}
  \allsectionsfont{\smaller\sffamily\sansmath}
  \renewcommand{\captionfont}{\sffamily\small\sansmath}
  \renewcommand{\captionlabelfont}{\bfseries}
}
\usepackage[style=plaintop,font={sf,small}]{floatrow}
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[LE]{\textsf{
  \textbf{\thepage}
  \hspace{2em}
  {\footnotesize\mathversion{sans}\leftmark}
}}
\fancyhead[RO]{\textsf{
  {\footnotesize\mathversion{sans}\rightmark}
  \hspace{2em}
  \textbf{\thepage}
}}
\renewcommand{\headrulewidth}{0pt}
\fancypagestyle{plain}{%
  \fancyhf{}
  \fancyfoot[LE,RO]{\textsf{\textbf{\thepage}}}
  \renewcommand{\headrulewidth}{0pt}
}

\usepackage[round]{natbib}
\bibliographystyle{abbrvnat}
\renewcommand\cite{\citep}
\usepackage{doi}
\usepackage[nottoc]{tocbibind}

% from fancyhdr documentation: make sure blank pages are truly blank
\makeatletter
\def\cleardoublepage{\clearpage
  \ifodd%
    \c@page%
  \else
    \hbox{}
    \thispagestyle{empty}
    \newpage
  \fi
}
\makeatother

% from https://tex.stackexchange.com/questions/41379/automatically-typeset-math-in-section-headings-in-bold-face
\makeatletter
\g@addto@macro\bfseries{\boldmath}
\makeatother

